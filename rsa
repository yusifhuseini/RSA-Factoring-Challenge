#!/usr/bin/env bash

# Function to find and print factors of a number
find_factors() {
    if [ $# -ne 1 ]; then
        echo "Usage: find_factors <number>"
        return 1
    fi

    number=$1
    factors=($(factor "$number" | cut -d ':' -f 2-))
    factor1=${factors[1]}
    factor2=${factors[0]}

    echo "$number=$factor1*$factor2"
}

if [ $# -ne 1 ]; then
    echo 'Usage: rsa <file>'
    exit 1
else
    input_file=$1

    while read number; do
        find_factors "$number"
    done < "$input_file"
fi
